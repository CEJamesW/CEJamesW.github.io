<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>url参数转json,url转字典(dict) - 在线工具</title><meta name="baidu_union_verify" content="c7b1ed99149de450b9aa90606afb8b1c"><meta name="description" content="在线工具提供GET类型或者POST类型的url参数转json字符串,通过把url参数转码后,可以更好的融合进您所写的程序,比如requests的post参数为dict..."><meta name="keywords" content="url参数转json,字符串转json,字符串转字典,url参数转字典格式,格式化url,在线工具"><link rel="shortcut icon" href="http://tools.bugscaner.com/static/images/favicon.ico"><link rel="bookmark" href="http://tools.bugscaner.com/static/images/favicon.ico"><!-- Bootstrap核心文件 --><link rel="stylesheet" href="static/css/bootstrap.min.css"><link rel="stylesheet" href="static/css/main2.css"><link href="static/css/toastr.min.css" rel="stylesheet"><!-- 这里是新增的css文件或者内容 --><!-- 自定义css --><!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries --><!-- WARNING: Respond.js doesn't work if you view the page via file:// --><!--[if lt IE 9]><script src="http://cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script><script src="http://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script><![endif]--><!-- toastr提示在屏幕居中显示 --><style>
		.toast-center-center {
		   top: 40%;
		   left: 50%;
		   margin-top: -30px;
		   margin-left: -150px;
		}
	</style></head><body><!-- fixed navbar --><header id="header"><nav class="navbar navbar-inverse navbar-fixed-top" role="navigation"><div id="top-header">在线工具</div><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="index.html" title="在线工具">在线工具</a></div><div id="navbar" class="collapse navbar-collapse"><ul class="nav navbar-nav"><li><a href="index1.html" title="识别类工具">识别类工具</a></li><li><a href="index4.html" title="疯狂加解密">疯狂加解密</a></li><li><a href="index5.html" title="站长工具">站长工具</a></li><li><a href="index6.html" title="SEO工具">SEO工具</a></li><li><a href="index7.html" title="文本字符串处理工具大全">文本/字符串</a></li><li><a href="index8.html">BT/磁力相关</a></li><li><a href="index9.html">其他工具</a></li></ul></div><!--/.nav-collapse --></div></nav><!--/.navbar --></header><!-- 以上为header头部结束 --><div class="container"><div style="margin-top:110px;"><hr><!-- 这里是body内容 --><!-- 广告位预留位置 --><div class="row text-center" style="margin-top:30px;"><div class="col-md-12"><h3>在线url参数转json,url参数转字典形式</h3></div></div><div style="padding-bottom:20px"></div><div class="row"><div class="col-md-12"><textarea class="form-control" rows="10" id="content" placeholder="请在这里输入完整的url地址,或者抓包的post参数比如：https://www.baidu.com/s?ie=utf-8&f=8&rsv_bp=1&rsv_idx=1&tn=baidu&wd=aliyun.bugscaner.com&oq=js%2520%25E5%2588%25A4%25E6%2596%25AD%25E7%25A9%25BA%25E6%2595%25B0%25E7%25BB%2584&rsv_pq=ec2d23e000042d18&rsv_t=2fcbtNZiJAA5ZeeDFxHhxquO2zgsr0GGJN7fs38eU6Ejm54JfVFaweAJUPs&rqlang=cn&rsv_enter=0&inputT=284114&sug=fiddler&rsv_sug3=166&rsv_sug1=133&rsv_sug7=100&rsv_n=1&rsv_sug2=0&rsv_sug4=284114"></textarea></div></div><div class="row" style="margin-top:20px"><div class="col-md-12 text-center"><button type="submit" class="btn btn-danger" id="btn1" style="margin:5px;">url转json</button><button type="submit" class="btn btn-primary" id="copy" data-clipboard-target="#shuchu" style="margin:5px;">复制结果</button><button type="submit" class="btn btn-primary" id="btn2" style="margin:5px;">导出文本</button><button type="submit" class="btn btn-primary" id="btn3" style="margin:5px;">清空结果</button></div></div><div class="row" style="margin-top:20px"><div class="col-md-12"><textarea class="form-control" rows="10" id="shuchu" placeholder="结果区域"></textarea></div></div><a onfocus="this.blur();" download="url编码转json导出.txt" id="createInvote" class="ipt-todo hide">导出结果</a><!-- 广告位置 --><div id="item-box"></div><div class="item-box"><h3>在线工具url字符串转json介绍</h3><hr><div class="view-box"><p>可以对您输入的url网址参数就行解析</p><p>把以=为分隔符左右切割成键和键值的形式,也就是平时所说的字典格式,json的表现形式！</p></div></div><div class="item-box"><h3>应用场景</h3><hr><div class="view-box"><p>应用场景感觉就不用多说了,拿个最简单的例子来说,平时调试网站,或者用fiddler抓包,想把得到的数据,通过自己的脚本程序去模拟.</p><p>这个时候,感觉把参数转换成字典的形式,感觉对各个参数替换或者分析起来会更清晰一些。尤其是当参数大于十几个甚至二十几个的时候,头不大,算我输</p><p>你盯着那一堆字符串好看呢？还是盯着这个json形式的字典好看呢？哈哈</p><p>比如python的最流行的requests库POST传递数据,就需要转换成字典形式</p></div></div><div class="item-box"><h3>更新日志</h3><hr><div class="view-box"><p>2018年8月9号上线</p></div></div></div></div><!-- 以上为body结束 --><footer class="tools-footer"><div class="container"><p>相关站点:</p><ul class="tools-footer-links"><li><a href="index38.html" target="_blank" title="whois查询">Whois查询</a></li><li><a href="index14.html" target="_blank" title="CMS指纹识别">CMS指纹识别</a></li><li><a href="index73.html" target="_blank" title="icp备案查询">icp备案查询</a></li><li><a href="index37.html" target="_blank" title="同ip网站查询">同ip网站查询</a></li><li><a href="mailto:bugscaner@qq.com" target="_blank" title="联系我们" rel="nofollow">联系我们</a></li></ul><p>我们的热爱能走多远？直到走别人的路，变成自己的路！</p><p>本项目采用 <a rel="license" href="javascript:;" rel="nofollow" target="_blank" data-toggle="tooltip" title="django,一款极易上手的开源框架,会写python 函数就会开发网站,如果因为本站能激发您对python学习的兴趣,真是荣幸之至！">Django 1.11</a>开源框架开发 Copyright? 2010-2018</p></div></footer><!-- jQuery (necessary for Bootstrap's JavaScript plugins) --><script src="static/js/jquery.min.js"></script><!-- Include all compiled plugins (below), or include individual files as needed --><script src="static/js/bootstrap.min.js"></script><!-- alert组件 --><script src="static/js/toastr.min.js"></script><!-- tooltip 小工具初始化 作为一个公用一个组件 --><script type="text/javascript">$(function () { $("[data-toggle='tooltip']").tooltip(); });toastr.options.positionClass = 'toast-center-center';</script><!-- 这里是新增的js内容 --><script src="static/js/clipboard.min.js"></script><script type="text/javascript">
function Trim(str)
 { 
  return str.replace(/(^\s*)|(\s*$)/g, ""); 
}

//判断是否为空函数
function isEmpty(obj){
    if(typeof obj == "undefined" || obj == null || obj == ""){
        return true;
    }else{
        return false;
    }
}


function formatJson(json) {
  var formatted = '', //转换后的json字符串
  padIdx = 0, //换行后是否增减PADDING的标识
  PADDING = '    '; //4个空格符
  /**
	 * 将对象转化为string
	 */
  if (typeof json !== 'string') {
    json = JSON.stringify(json);
  }
  /** 
	 *利用正则类似将{'name':'ccy','age':18,'info':['address':'wuhan','interest':'playCards']}
	 *---> \r\n{\r\n'name':'ccy',\r\n'age':18,\r\n
	 *'info':\r\n[\r\n'address':'wuhan',\r\n'interest':'playCards'\r\n]\r\n}\r\n
	 */

  json = json.replace(/([\{\}])/g, '\r\n$1\r\n').replace(/([\[\]])/g, '\r\n$1\r\n').replace(/(\,)/g, '$1\r\n').replace(/(\r\n\r\n)/g, '\r\n').replace(/\r\n\,/g, ',');
  /** 
	 * 根据split生成数据进行遍历，一行行判断是否增减PADDING
	 */
  (json.split('\r\n')).forEach(function (node, index) {
    var indent = 0,
    padding = '';
    if (node.match(/\{$/) || node.match(/\[$/)) indent = 1;
     else if (node.match(/\}/) || node.match(/\]/)) padIdx = padIdx !== 0 ? --padIdx : padIdx;
     else indent = 0;
    for (var i = 0; i < padIdx; i++) 
	padding += PADDING;
	if (isEmpty(node)){
    formatted += padding + node;
	}
	else{
	formatted += padding + node + '\r\n';
	}
    padIdx += indent;
    console.log('index:' + index + ',indent:' + indent + ',padIdx:' + padIdx + ',node-->' + node);
  });
  return formatted;
};



function stringtodict(url) {
  var returninfo = {
  };
  //第一步先把#字符分割掉
  url = url.split('#') [0]
  //第二步从?开始分割掉
  if (isEmpty(url)){
	//毛都没有
	return "毛都没有输入!少年我看好你"
  }
  arr = url.split('?')
  arr = arr.slice( - 1)
  if (arr[0].indexOf('&') == - 1) {
    return '哈哈,老兄,这么少的参数,自己组合不就完了!'
  }
  if (arr != false) {
    //说明已经步入正轨
    arrarg = arr.join('').split('&');
    for (let i = 0, len = arrarg.length; i < len; i++) {
      //这里判断一下空字符串
      if (arrarg[i] != false)
      {
        ok = arrarg[i].split('=');
        if (ok.length > 1) {
          //说明有多个等号join一下
          returninfo[ok[0]] = ok.slice(1).join('=');
        } 
        else {
          //报废的参数还需要理会吗?答案是no
          console.log('这个参数没有用,去掉');
        }
      } 
      else {
        //空字符串哦
        console.log("报告大王,这里有个空字符串")
      }
    }
  }
  //res = JSON.stringify(returninfo);
  return formatJson(returninfo);
}

var daochu="";
$("#btn1").bind("click",
    function () {
		//清空输入从新开始
		var jieguos="";
		document.getElementById('shuchu').value = "";
        var inputcontent = document.getElementById('content').value;
		var newstr = stringtodict(inputcontent);
		document.getElementById('shuchu').value = newstr;
		daochu = newstr;
        return false
    });

  $("#btn2").bind("click",
  function() {
  var daochu = document.getElementById('shuchu').value;
  daochu = daochu.replace(/\n/g,"\r\n");
if (isEmpty(daochu)) {
	toastr.warning("没有内容,无法导出");
	return false
}
var isIE = (navigator.userAgent.indexOf('MSIE') >= 0);
if (isIE) {
     var winSave = window.open();
     winSave.document.open("text","utf-8");
     winSave.document.write(daochu);
     winSave.document.execCommand("SaveAs",true,"bugscaner.txt");
     winSave.close();
} else {
     var mimeType =  'text/plain';
     $('#createInvote').attr('href', 'data:' + mimeType  +  ';charset=utf-8,' + encodeURIComponent(daochu));
     document.getElementById('createInvote').click();
}
    return false
  });
  $("#btn3").bind("click",
  function() {
    document.getElementById('content').value = '';
    document.getElementById('shuchu').value = '';
    document.getElementById('content').select();
    return false
  });
  
//之前的复制插件过时了,需要flash,更换成这个
var clipboard = new ClipboardJS('#copy');
clipboard.on('success', function (e) {
    if (e.text != "") {
        toastr.success("复制成功");
    }
    else {
        toastr.success("任务还未开始");
    }
});

clipboard.on('error', function (e) {
    toastr.success("复制失败");
});
</script><div style="display: none;"><script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?81c5c6d2c74d56c9ab654aec4c11e078";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script></div><script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script><script src="static/js/jquery1.11.1.js"></script><!-- 特效 --></body></html>